//  First install gaming software + apps

sudo apt install -y curl;
sudo dpkg --configure -a;
sudo dpkg --add-architecture i386;
bash <(curl --proto '=https' --tlsv1.2 -sSf https://setup.atuin.sh);
sudo add-apt-repository -y ppa:kisak/kisak-mesa;
sudo add-apt-repository -y ppa:faugus/faugus-launcher;
sudo apt update;
sudo apt full-upgrade -y;
sudo apt install -y linux-generic-hwe-24.04;
sudo apt install -y gamemode;
sudo apt install -y steam;
sudo apt install -y faugus-launcher;
sudo apt install -y protontricks;
sudo apt install -y redshift redshift-gtk;
sudo apt install -y libgl1-mesa-dri:i386 libgl1:i386;
sudo apt install -y mesa-vulkan-drivers mesa-vulkan-drivers:i386;
flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo;
flatpak install -y flathub io.gitlab.librewolf-community;
flatpak install -y flathub com.github.hluk.copyq;
flatpak install -y flathub dev.vencord.Vesktop;
flatpak install -y flathub com.google.Chrome;

// then debloat the unused software

sudo apt-get remove --purge -y "libreoffice*" "liblibreoffice*";
sudo apt-get remove --purge -y hypnotix;
sudo apt-get remove --purge -y system-config-printer;
sudo apt-get remove --purge -y cups cups-browsed cups-client cups-common cups-core-drivers cups-daemon cups-ppdc cups-server-common;
sudo apt-get remove --purge -y "printer-driver-*";
sudo apt-get remove --purge -y hplip;
sudo apt-get remove --purge -y rhythmbox rhythmbox-data rhythmbox-plugin-tray-icon;
sudo apt-get remove --purge -y pix pix-data;
sudo apt-get remove --purge -y drawing sticky thingy warpinator;
sudo apt-get remove --purge -y hexchat thunderbird;
sudo apt-get remove --purge -y transmission-gtk transmission-common;
sudo apt-get remove --purge -y webapp-manager;
sudo apt-get remove --purge -y "bluez*" blueman;
sudo apt-get autoremove -y;
sudo apt-get clean;
sudo apt install -f;

// Then configure all the file writing stuff 

echo 'export GDK_BACKEND=x11' >> ~/.profile;
echo 'export REDSHIFT_DISPLAY_DEVICE=randr' >> ~/.profile;
echo 'eval "$(atuin init bash)"' >> ~/.bashrc;
echo "alias up='sudo apt update && sudo apt full-upgrade -y && flatpak update -y && sudo apt autoremove -y && flatpak uninstall --unused -y'" >> ~/.bashrc;
echo "bind 'set enable-bracketed-paste off'" >> ~/.bashrc;
# Fix: Using single quotes for the ipconfig alias content to preserve the awk logic
echo "alias ipconfig='echo -e \"\n--- Gateway ---\" ; ip r | grep default ; echo -e \"\n--- Interfaces ---\" ; ip -c a'" >> ~/.bashrc;
echo 'vm.swappiness=10' | sudo tee -a /etc/sysctl.conf;
echo 'kernel.sysrq=1' | sudo tee -a /etc/sysctl.conf;
sudo sysctl -p;

mkdir -p ~/.config/redshift;
cat << 'EOF' > ~/.config/redshift/redshift.conf
[redshift]
temp-day=4900
temp-night=4900
transition=0
gamma=1.0
location-provider=manual
adjustment-method=randr

[manual]
lat=0.0
lon=0.0

[randr]
screen=0
preserve=0
EOF

source ~/.profile;
source ~/.bashrc;
